<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Brett Lischalk | Zero Downtime API Shared Secret Rotation</title>
  <meta name="description" content="A demonstration of how an API could rotate its shared secret with zero down time">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="Zero Downtime API Shared Secret Rotation">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://localhost:4000/posts/zero-downatime-api-shared-secret-rotation">
  <meta property="og:description" content="A demonstration of how an API could rotate its shared secret with zero down time">
  <meta property="og:site_name" content="Brett Lischalk">
  <meta property="og:image" content="http://localhost:4000/assets/og-image.jpg">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://localhost:4000/posts/zero-downatime-api-shared-secret-rotation">
  <meta name="twitter:title" content="Zero Downtime API Shared Secret Rotation">
  <meta name="twitter:description" content="A demonstration of how an API could rotate its shared secret with zero down time">
  <meta name="twitter:image" content="http://localhost:4000/assets/og-image.jpg">

  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
  <link href="http://localhost:4000/feed.xml" type="application/rss+xml" rel="alternate" title="Brett Lischalk Last 10 blog posts" />

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-6246123062809579",
      enable_page_level_ads: true
    });
  </script>

  
    <link type="text/css" rel="stylesheet" href="/assets/dark.css">
  
</head>

<body>
  <main role="main">
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav reveal">
  <a href="/" class="header-logo" title="Brett Lischalk">Brett Lischalk</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <span class="icon icon-android-person"></span>
        </a>
      </li>
    
    
      <li>
        <a href="https://twitter.com/blischalk" target="_blank" title="Twitter">
          <span class="icon icon-social-twitter"></span>
        </a>
      </li>
    
    
    
      <li>
        <a href="https://github.com/blischalk" target="_blank" title="GitHub">
          <span class="icon icon-social-github"></span>
        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://www.linkedin.com/in/brett-lischalk-3104537" target="_blank" title="LinkedIn">
          <span class="icon icon-social-linkedin"></span>
        </a>
      </li>
    
    
    
      <li>
        <a href="mailto:brett@brettlischalk.com" target="_blank" title="Email">
          <span class="icon icon-at"></span>
        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" target="_blank" title="RSS">
          <span class="icon icon-social-rss"></span>
        </a>
      </li>
    
  </ul>
</nav>

        <article class="article reveal">
          <header class="article-header">
            <h1>Zero Downtime API Shared Secret Rotation</h1>
            <div class="article-list-footer">
              <span class="article-list-date">
                April 29, 2023
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  8 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="/tag/secret rotation">secret rotation</a>
                
                  <a href="/tag/zero down time">zero down time</a>
                
                  <a href="/tag/shared secret">shared secret</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <h1 id="zero-downtime-api-shared-secret-rotation">Zero Downtime API Shared Secret Rotation</h1>

<p>Secrets are used in software applications for many different different things from connecting to a database to signing a JWT passed between services. It is considered a security best practice to rotate these types of secrets on a regular basis. Some reasons for this are:</p>

<ul>
  <li>If a secret is accidentally exposed in logs, accidentally committed to version control, etc., having a process in place which smoothly rotates a secret turns what would be a firedrill into much less risky operation</li>
  <li>Rotating secrets regularly helps to ensure that if a malicious
insider acquired a secret, that the time it would be viable would be minimized</li>
</ul>

<p>It is common that applications will have secrets provided to them through
configuration or the environment and the secret will rarely change if ever. Some
secrets are harder to rotate than others but with a little planning, the tools
exist to make secret rotation possible and possibly even with zero downtime. AWS
provides some good documentation on retrieving secrets from <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/secrets-app-secrets-manager.html">Secrets
Manager</a> and <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/secrets-app-ssm-paramstore.html">Parameter Store</a> as well as some <a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/patterns/rotate-database-credentials-without-restarting-containers.html">examples of dynamic credential rotation</a>.
We can use this information to put together a solution for how we can rotation
credentials within our applications. Lets get started.</p>

<h2 id="a-shared-secret">A Shared Secret</h2>

<p>Lets suppose we have application A and application B. In the spirit of
zero-trust we aren’t going to just let the applications trust the network and
communicate without any form authentication or authorization. Instead, the
services will utilize a shared secret. This could be used for a JWT HMAC or
simply a token used for bearer authentication. To keep things simple, we’ll use
bearer authentication in this demonstration.</p>

<h2 id="storing-and-sharing-the-secret">Storing and Sharing the Secret</h2>

<p>For this example we will use AWS SSM for storing the shared secret. This could
also be AWS secrets manager, GCP secret manager, Azure key vault, etc. The
important thing is that the secret is stored centrally in a secrets manager and
the applications have the appropriate privileges so that they can access it. The
<code class="highlighter-rouge">SecureString</code> type is used to ensure that the secret is encrypted with KMS and
we set the secret to <code class="highlighter-rouge">MyInitialSecret</code>.</p>

<p><img src="/assets/SecretRotation/InitialAWSSSMParameter.png" alt="Initial AWS SSM Parameter" /></p>

<h2 id="the-api">The API</h2>

<p>The first thing we will do is create a small api that has an endpoint protected with
bearer authentication. The secret is acquired from the environment the way most
applications typically would:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_httpauth</span> <span class="kn">import</span> <span class="n">HTTPTokenAuth</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">auth</span> <span class="o">=</span> <span class="n">HTTPTokenAuth</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s">'Bearer'</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Secrets</span><span class="p">()</span>

<span class="nd">@auth.verify_token</span>
<span class="k">def</span> <span class="nf">verify_token</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s">'SECRET_TOKEN'</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="nd">@auth.login_required</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Hello, World!'</span></code></pre></figure>

<p>Next, we’ll create a class that:</p>

<ul>
  <li>Has a method to pull / refresh credentials from AWS Parameter Store</li>
  <li>Has a method to get a secret from the object</li>
  <li>Acquires AWS parameter store credentials when the object is instantiated</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">Secrets</span><span class="p">:</span>
    <span class="c"># Pull the secrets from Parameter Store when object instantiated</span>
    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Retrieving secrets from Parameter Store"</span><span class="p">)</span>
        <span class="n">ssm</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s">'ssm'</span><span class="p">,</span> <span class="s">'us-east-1'</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">ssm</span><span class="o">.</span><span class="n">get_parameters</span><span class="p">(</span>
                <span class="n">Names</span><span class="o">=</span><span class="p">[</span><span class="s">'RotationExample'</span><span class="p">],</span><span class="n">WithDecryption</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s">'Parameters'</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">secrets</span><span class="p">[</span><span class="n">parameter</span><span class="p">[</span><span class="s">'Name'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">parameter</span><span class="p">[</span><span class="s">'Value'</span><span class="p">]</span>

    <span class="c"># Method to get a secret from the object</span>
    <span class="k">def</span> <span class="nf">secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="c"># Acquire the secrets from AWS when the object is instantiated</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secrets</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span></code></pre></figure>

<p>Now, we’ll update the api code from before to instantiate an instance of this
class when the app boots up to make the token comparison to the secret stored in
the object instead of from the environment:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">..</span> <span class="n">snip</span> <span class="o">..</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">auth</span> <span class="o">=</span> <span class="n">HTTPTokenAuth</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s">'Bearer'</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Secrets</span><span class="p">()</span>

<span class="nd">@auth.verify_token</span>
<span class="k">def</span> <span class="nf">verify_token</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="n">secret</span><span class="p">(</span><span class="s">'RotationExample'</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'Token match!'</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="o">..</span> <span class="n">snip</span> <span class="o">..</span></code></pre></figure>

<p>And lastly we’ll update the code so that when a client authenticates the api
first tries to authenticate against the secret the app acquired at boot. If that
fails, the app will use the <code class="highlighter-rouge">refresh</code> method on the <code class="highlighter-rouge">Secrets</code> object to update
the secrets from Parameter Store and then attempt the comparison again:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="o">..</span> <span class="n">snip</span> <span class="o">..</span>

<span class="nd">@auth.verify_token</span>
<span class="k">def</span> <span class="nf">verify_token</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
    <span class="c"># Try the secret we have in memory</span>
    <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="n">secret</span><span class="p">(</span><span class="s">'RotationExample'</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'Token match!'</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
    <span class="c"># If it fails, go refresh secrets from Parameter Store</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'Token mis-match. Refreshing token'</span><span class="p">)</span>
        <span class="n">s</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="n">secret</span><span class="p">(</span><span class="s">'RotationExample'</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>

<span class="o">..</span> <span class="n">snip</span> <span class="o">..</span></code></pre></figure>

<p>Putting it all together, the final code looks like this:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">boto3</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask_httpauth</span> <span class="kn">import</span> <span class="n">HTTPTokenAuth</span>

<span class="k">class</span> <span class="nc">Secrets</span><span class="p">:</span>
    <span class="c"># Pull the secrets from Parameter Store when object instantiated</span>
    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Retrieving secrets from Parameter Store"</span><span class="p">)</span>
        <span class="n">ssm</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s">'ssm'</span><span class="p">,</span> <span class="s">'us-east-1'</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">ssm</span><span class="o">.</span><span class="n">get_parameters</span><span class="p">(</span>
                <span class="n">Names</span><span class="o">=</span><span class="p">[</span><span class="s">'RotationExample'</span><span class="p">],</span><span class="n">WithDecryption</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">response</span><span class="p">[</span><span class="s">'Parameters'</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">secrets</span><span class="p">[</span><span class="n">parameter</span><span class="p">[</span><span class="s">'Name'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">parameter</span><span class="p">[</span><span class="s">'Value'</span><span class="p">]</span>

    <span class="c"># Method to get a secret from the object</span>
    <span class="k">def</span> <span class="nf">secret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">secrets</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="c"># Acquire the secrets from AWS when the object is instantiated</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secrets</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">auth</span> <span class="o">=</span> <span class="n">HTTPTokenAuth</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s">'Bearer'</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Secrets</span><span class="p">()</span>

<span class="nd">@auth.verify_token</span>
<span class="k">def</span> <span class="nf">verify_token</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
    <span class="c"># Try the secret we have in memory</span>
    <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="n">secret</span><span class="p">(</span><span class="s">'RotationExample'</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'Token match!'</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
    <span class="c"># If it fails, go refresh secrets from Parameter Store</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s">'Token mis-match. Refreshing token'</span><span class="p">)</span>
        <span class="n">s</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="n">secret</span><span class="p">(</span><span class="s">'RotationExample'</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="nd">@auth.login_required</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Hello, World!'</span></code></pre></figure>

<p>Alright! Lets give it a shot!</p>

<p>We’ll boot up our Flask api:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">FLASK_APP</span><span class="o">=</span>hello
<span class="nb">export </span><span class="nv">FLASK_ENV</span><span class="o">=</span>development

╰─❯ flask run
Retrieving secrets from Parameter Store
 <span class="k">*</span> Serving Flask app <span class="s1">'hello'</span>
 <span class="k">*</span> Debug mode: off
WARNING: This is a development server. Do not use it <span class="k">in </span>a production deployment. Use a production WSGI server instead.
 <span class="k">*</span> Running on http://127.0.0.1:5000
Press CTRL+C to quit</code></pre></figure>

<p>In the output we see the “Retrieving secrets from Parameter Store” output so
presumeabley the secrets are pulled correctly when the app boots. Now we’ll use curl to make a call to our api with the initial secret we set of <code class="highlighter-rouge">MyInitialSecret</code> to test things out:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">curl <span class="nt">-H</span> <span class="s1">'Authorization: Bearer MyInitialSecret'</span> http://127.0.0.1:5000
Hello, World!%</code></pre></figure>

<p>The call succeeds as we would expect as the app pulled the secret when it booted
and it matches the secret we send in the authorization header. In the output on
the server side we see:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Token match!</code></pre></figure>

<p>Now for the magic. We will go to Parameter Store and update the secret to a new
value of <code class="highlighter-rouge">MyNewSecret</code>:</p>

<p><img src="/assets/SecretRotation/UpdatedAWSSSMParameter.png" alt="Updated AWS SSM Parameter" /></p>

<p>And without restarting our server (cause that would be cheating ;)) we use curl
again with the updated secret:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">╰─❯ curl <span class="nt">-H</span> <span class="s1">'Authorization: Bearer MyNewSecret'</span> http://127.0.0.1:5000
Hello, World!%</code></pre></figure>

<p>The request succeeds with the new secret! Lets look at the server logs. We see:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">Token mis-match. Refreshing token
Retrieving secrets from Parameter Store
127.0.0.1 - - <span class="o">[</span>29/Apr/2023 18:01:00] <span class="s2">"GET / HTTP/1.1"</span> 200 -</code></pre></figure>

<p>So the server detected the token mis-match, it refreshed the secrets and
revalidated the token. The token validated successfully and allows the request
to succeed.</p>

<p>And just to prove we don’t have anything up our sleeve, we’ll make another
request with a bogus secret:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">╰─❯ curl <span class="nt">-H</span> <span class="s1">'Authorization: Bearer FakeSecret'</span> http://127.0.0.1:5000
Unauthorized Access%</code></pre></figure>

<p>And as we would expect, we are denied access.</p>

<h2 id="conclusion">Conclusion</h2>

<p>I hope this blog post helps to make secret rotation a little less intimidating
and more approachable for engineers. This solution does have its weaknesses. One weakness is that every failed token validtion triggers a call to AWS to refresh to token. This may or may not be an issue for an internal api but with a service like secrets manager that charges per api call, it might not be something you want someone to pound on and run up your bills. To address this the code could be updated to be more robust and implement a ttl of time between refreshes, that way the app would only attempt to refresh every so often instead constantly.</p>

<p>This post has been focused on the api server side of the secret rotation but how
might the client get updated? It would actually be very similar to how the
server handles the rotation but this post has become pretty lengthy so I’ll save
that for my next post.</p>

          </div>

          <div class="article-share">
            
            <a href="" title="Share on Twitter" onclick="window.open('https://twitter.com/home?status=Zero Downtime API Shared Secret Rotation - http://localhost:4000/posts/zero-downatime-api-shared-secret-rotation by @blischalk', 'newwindow', 'width=500, height=225'); return false;">
              <span class="icon icon-social-twitter"></span>
            </a>
            <a href="" title="Share on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/posts/zero-downatime-api-shared-secret-rotation', 'newwindow', 'width=500, height=500'); return false;">
              <span class="icon icon-social-facebook"></span>
            </a>
            <a href="" title="Share on Google+" onclick="window.open('https://plus.google.com/share?url=http://localhost:4000/posts/zero-downatime-api-shared-secret-rotation', 'newwindow', 'width=550, height=400'); return false;">
              <span class="icon icon-social-googleplus"></span>
            </a>
          </div>

          <a href="https://www.offensive-security.com/information-security-certifications/oscp-offensive-security-certified-professional/" title="Offensive Security Certified Professional" target="_blank">
            <img src="/assets/offsec-student-certified-emblem-rgb-oscp.png" />
          </a>
          <a href="https://www.offensive-security.com/information-security-certifications/osce-offensive-security-certified-expert/" title="Offensive Security Certified Expert" target="_blank">
            <img src="/assets/offsec-student-certified-emblem-rgb-osce.png"" />
          </a>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script>
              (function() {
                  var d = document, s = d.createElement('script');
                  s.src = '//blischalkblog.disqus.com/embed.js';
                  s.setAttribute('data-timestamp', +new Date());
                  (d.head || d.body).appendChild(s);
              })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          
        </article>
        <footer class="footer reveal">
  <p>
    Site content by: <a href="/about" title="About me">Brett Lischalk</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  <script type="text/javascript" src="/assets/vendor.js"></script>
<script type="text/javascript" src="/assets/application.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
  WebFont.load({
    google: {
      families: ['Cormorant Garamond:700', 'Lato:300,400,700']
    }
  });
</script>


  <script>
    window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
    ga('create','UA-4121143-2','auto');ga('send','pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>


</body>
</html>
